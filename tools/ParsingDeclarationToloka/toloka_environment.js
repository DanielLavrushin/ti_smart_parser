Handlebars.registerHelper('field', function() {
    let elem = document.createElement('textarea');
    elem.style.width = '100%';
    elem.rows = 20;
    elem.name = 'declaration_json'
    return elem.outerHTML;
});



let taskSource = document.getElementsByClassName("main_task_table")[0];
let handleBarsTemplate = Handlebars.compile(taskSource.innerHTML);
let tsvLine = '9e1d66647e8fc607afe4a023b9b6a197__22_42\t"{""Title"":""Сведения о доходах, об имуществе и обязательствах имущественного характера федеральных государственных гражданских служащих Министерства сельского хозяйства Российской Федерации и членов их семей за отчетный период с 1 января 2012 г. по 31 декабря 2012 г. Департамент мелиорации"",""InputFileName"":""a.xls"",""DataStart"":22,""DataEnd"":42,""Header"":[[{""mc"":1,""mr"":2,""r"":3,""c"":0,""t"":""Фамилия, имя, отчество""},{""mc"":1,""mr"":2,""r"":3,""c"":1,""t"":""Наименование структурных подразделений и должностей""},{""mc"":4,""mr"":1,""r"":3,""c"":2,""t"":""Перечень объектов недвижимого имущества и транспортных средств, принадлежащих на праве собственности""},{""mc"":3,""mr"":1,""r"":3,""c"":6,""t"":""Перечень объектов недвижимого имущества, находящегося в пользовании""},{""mc"":1,""mr"":2,""r"":3,""c"":9,""t"":""Декларированный годовой доход (рублей)""}],[{""mc"":1,""mr"":2,""r"":4,""c"":0,""t"":""""},{""mc"":1,""mr"":2,""r"":4,""c"":1,""t"":""""},{""mc"":1,""mr"":1,""r"":4,""c"":2,""t"":""Вид объектов недвижимости""},{""mc"":1,""mr"":1,""r"":4,""c"":3,""t"":""Площадь (кв.м)""},{""mc"":1,""mr"":1,""r"":4,""c"":4,""t"":""Страна расположения""},{""mc"":1,""mr"":1,""r"":4,""c"":5,""t"":""Транспортные средства (с указанием вида и марки)""},{""mc"":1,""mr"":1,""r"":4,""c"":6,""t"":""Вид объектов недвижимости""},{""mc"":1,""mr"":1,""r"":4,""c"":7,""t"":""Площадь (кв.м)""},{""mc"":1,""mr"":1,""r"":4,""c"":8,""t"":""Страна расположения""},{""mc"":1,""mr"":2,""r"":4,""c"":9,""t"":""""}]],""Section"":[],""Data"":[[{""mc"":1,""mr"":9,""r"":22,""c"":0,""t"":""""},{""mc"":1,""mr"":9,""r"":22,""c"":1,""t"":""""},{""mc"":1,""mr"":1,""r"":22,""c"":2,""t"":""квартира""},{""mc"":1,""mr"":1,""r"":22,""c"":3,""t"":""284,7""},{""mc"":1,""mr"":1,""r"":22,""c"":4,""t"":""Россия""},{""mc"":1,""mr"":9,""r"":22,""c"":5,""t"":""""},{""mc"":1,""mr"":9,""r"":22,""c"":6,""t"":""""},{""mc"":1,""mr"":9,""r"":22,""c"":7,""t"":""""},{""mc"":1,""mr"":9,""r"":22,""c"":8,""t"":""""},{""mc"":1,""mr"":9,""r"":22,""c"":9,""t"":""""}],[{""mc"":1,""mr"":9,""r"":23,""c"":0,""t"":""""},{""mc"":1,""mr"":9,""r"":23,""c"":1,""t"":""""},{""mc"":1,""mr"":1,""r"":23,""c"":2,""t"":""квартира""},{""mc"":1,""mr"":1,""r"":23,""c"":3,""t"":""78,61""},{""mc"":1,""mr"":1,""r"":23,""c"":4,""t"":""Россия""},{""mc"":1,""mr"":9,""r"":23,""c"":5,""t"":""""},{""mc"":1,""mr"":9,""r"":23,""c"":6,""t"":""""},{""mc"":1,""mr"":9,""r"":23,""c"":7,""t"":""""},{""mc"":1,""mr"":9,""r"":23,""c"":8,""t"":""""},{""mc"":1,""mr"":9,""r"":23,""c"":9,""t"":""""}],[{""mc"":1,""mr"":9,""r"":24,""c"":0,""t"":""""},{""mc"":1,""mr"":9,""r"":24,""c"":1,""t"":""""},{""mc"":1,""mr"":1,""r"":24,""c"":2,""t"":""гараж""},{""mc"":1,""mr"":1,""r"":24,""c"":3,""t"":""19,0""},{""mc"":1,""mr"":1,""r"":24,""c"":4,""t"":""Россия""},{""mc"":1,""mr"":9,""r"":24,""c"":5,""t"":""""},{""mc"":1,""mr"":9,""r"":24,""c"":6,""t"":""""},{""mc"":1,""mr"":9,""r"":24,""c"":7,""t"":""""},{""mc"":1,""mr"":9,""r"":24,""c"":8,""t"":""""},{""mc"":1,""mr"":9,""r"":24,""c"":9,""t"":""""}],[{""mc"":1,""mr"":9,""r"":25,""c"":0,""t"":""""},{""mc"":1,""mr"":9,""r"":25,""c"":1,""t"":""""},{""mc"":1,""mr"":1,""r"":25,""c"":2,""t"":""гараж""},{""mc"":1,""mr"":1,""r"":25,""c"":3,""t"":""16,0""},{""mc"":1,""mr"":1,""r"":25,""c"":4,""t"":""Россия""},{""mc"":1,""mr"":9,""r"":25,""c"":5,""t"":""""},{""mc"":1,""mr"":9,""r"":25,""c"":6,""t"":""""},{""mc"":1,""mr"":9,""r"":25,""c"":7,""t"":""""},{""mc"":1,""mr"":9,""r"":25,""c"":8,""t"":""""},{""mc"":1,""mr"":9,""r"":25,""c"":9,""t"":""""}],[{""mc"":1,""mr"":9,""r"":26,""c"":0,""t"":""""},{""mc"":1,""mr"":9,""r"":26,""c"":1,""t"":""""},{""mc"":1,""mr"":1,""r"":26,""c"":2,""t"":""офисное помещение""},{""mc"":1,""mr"":1,""r"":26,""c"":3,""t"":""136,0""},{""mc"":1,""mr"":1,""r"":26,""c"":4,""t"":""Россия""},{""mc"":1,""mr"":9,""r"":26,""c"":5,""t"":""""},{""mc"":1,""mr"":9,""r"":26,""c"":6,""t"":""""},{""mc"":1,""mr"":9,""r"":26,""c"":7,""t"":""""},{""mc"":1,""mr"":9,""r"":26,""c"":8,""t"":""""},{""mc"":1,""mr"":9,""r"":26,""c"":9,""t"":""""}],[{""mc"":1,""mr"":2,""r"":27,""c"":0,""t"":""супруга""},{""mc"":1,""mr"":2,""r"":27,""c"":1,""t"":""""},{""mc"":1,""mr"":1,""r"":27,""c"":2,""t"":""земельный участок ИЖС""},{""mc"":1,""mr"":1,""r"":27,""c"":3,""t"":""2500,0""},{""mc"":1,""mr"":1,""r"":27,""c"":4,""t"":""Россия""},{""mc"":1,""mr"":2,""r"":27,""c"":5,""t"":""автомобиль BMW X1""},{""mc"":1,""mr"":2,""r"":27,""c"":6,""t"":""квартира           (безвозмездное пользование)""},{""mc"":1,""mr"":2,""r"":27,""c"":7,""t"":""156,0""},{""mc"":1,""mr"":2,""r"":27,""c"":8,""t"":""Россия""},{""mc"":1,""mr"":2,""r"":27,""c"":9,""t"":""10 254 886,1""}],[{""mc"":1,""mr"":2,""r"":28,""c"":0,""t"":""""},{""mc"":1,""mr"":2,""r"":28,""c"":1,""t"":""""},{""mc"":1,""mr"":1,""r"":28,""c"":2,""t"":""квартира""},{""mc"":1,""mr"":1,""r"":28,""c"":3,""t"":""90""},{""mc"":1,""mr"":1,""r"":28,""c"":4,""t"":""Россия""},{""mc"":1,""mr"":2,""r"":28,""c"":5,""t"":""""},{""mc"":1,""mr"":2,""r"":28,""c"":6,""t"":""""},{""mc"":1,""mr"":2,""r"":28,""c"":7,""t"":""""},{""mc"":1,""mr"":2,""r"":28,""c"":8,""t"":""""},{""mc"":1,""mr"":2,""r"":28,""c"":9,""t"":""""}],[{""mc"":1,""mr"":1,""r"":29,""c"":0,""t"":""дочь""},{""mc"":1,""mr"":1,""r"":29,""c"":1,""t"":""""},{""mc"":1,""mr"":1,""r"":29,""c"":2,""t"":""-""},{""mc"":1,""mr"":1,""r"":29,""c"":3,""t"":""-""},{""mc"":1,""mr"":1,""r"":29,""c"":4,""t"":""-""},{""mc"":1,""mr"":1,""r"":29,""c"":5,""t"":""-""},{""mc"":1,""mr"":1,""r"":29,""c"":6,""t"":""квартира           (безвозмездное пользование)""},{""mc"":1,""mr"":1,""r"":29,""c"":7,""t"":""156,0""},{""mc"":1,""mr"":1,""r"":29,""c"":8,""t"":""Россия""},{""mc"":1,""mr"":1,""r"":29,""c"":9,""t"":""-""}],[{""mc"":1,""mr"":1,""r"":30,""c"":0,""t"":""дочь""},{""mc"":1,""mr"":1,""r"":30,""c"":1,""t"":""""},{""mc"":1,""mr"":1,""r"":30,""c"":2,""t"":""-""},{""mc"":1,""mr"":1,""r"":30,""c"":3,""t"":""-""},{""mc"":1,""mr"":1,""r"":30,""c"":4,""t"":""-""},{""mc"":1,""mr"":1,""r"":30,""c"":5,""t"":""-""},{""mc"":1,""mr"":1,""r"":30,""c"":6,""t"":""квартира           (безвозмездное пользование)""},{""mc"":1,""mr"":1,""r"":30,""c"":7,""t"":""156,0""},{""mc"":1,""mr"":1,""r"":30,""c"":8,""t"":""Россия""},{""mc"":1,""mr"":1,""r"":30,""c"":9,""t"":""-""}],[{""mc"":1,""mr"":1,""r"":31,""c"":0,""t"":""Парасюк Александр Владимирович""},{""mc"":1,""mr"":1,""r"":31,""c"":1,""t"":""Заместитель директора департамента""},{""mc"":1,""mr"":1,""r"":31,""c"":2,""t"":""квартира""},{""mc"":1,""mr"":1,""r"":31,""c"":3,""t"":""78,0""},{""mc"":1,""mr"":1,""r"":31,""c"":4,""t"":""Россия""},{""mc"":1,""mr"":1,""r"":31,""c"":5,""t"":""автомобиль     легковой     Toyota Land Cruiser Prado \\n""},{""mc"":1,""mr"":1,""r"":31,""c"":6,""t"":""-""},{""mc"":1,""mr"":1,""r"":31,""c"":7,""t"":""-""},{""mc"":1,""mr"":1,""r"":31,""c"":8,""t"":""-""},{""mc"":1,""mr"":1,""r"":31,""c"":9,""t"":""84 000,00""}],[{""mc"":1,""mr"":2,""r"":32,""c"":0,""t"":""Самигуллин Алмаз Альбертович""},{""mc"":1,""mr"":2,""r"":32,""c"":1,""t"":""Советник""},{""mc"":1,""mr"":2,""r"":32,""c"":2,""t"":""-""},{""mc"":1,""mr"":2,""r"":32,""c"":3,""t"":""-""},{""mc"":1,""mr"":2,""r"":32,""c"":4,""t"":""-""},{""mc"":1,""mr"":2,""r"":32,""c"":5,""t"":""-""},{""mc"":1,""mr"":1,""r"":32,""c"":6,""t"":""койка-место""},{""mc"":1,""mr"":1,""r"":32,""c"":7,""t"":""12,0""},{""mc"":1,""mr"":1,""r"":32,""c"":8,""t"":""Россия""},{""mc"":1,""mr"":2,""r"":32,""c"":9,""t"":""522 142,29""}],[{""mc"":1,""mr"":2,""r"":33,""c"":0,""t"":""""},{""mc"":1,""mr"":2,""r"":33,""c"":1,""t"":""""},{""mc"":1,""mr"":2,""r"":33,""c"":2,""t"":""""},{""mc"":1,""mr"":2,""r"":33,""c"":3,""t"":""""},{""mc"":1,""mr"":2,""r"":33,""c"":4,""t"":""""},{""mc"":1,""mr"":2,""r"":33,""c"":5,""t"":""""},{""mc"":1,""mr"":1,""r"":33,""c"":6,""t"":""жилой дом (безвозмездное пользование)""},{""mc"":1,""mr"":1,""r"":33,""c"":7,""t"":""54,2""},{""mc"":1,""mr"":1,""r"":33,""c"":8,""t"":""Россия""},{""mc"":1,""mr"":2,""r"":33,""c"":9,""t"":""""}],[{""mc"":1,""mr"":1,""r"":34,""c"":0,""t"":""сын""},{""mc"":1,""mr"":1,""r"":34,""c"":1,""t"":""""},{""mc"":1,""mr"":1,""r"":34,""c"":2,""t"":""-""},{""mc"":1,""mr"":1,""r"":34,""c"":3,""t"":""-""},{""mc"":1,""mr"":1,""r"":34,""c"":4,""t"":""-""},{""mc"":1,""mr"":1,""r"":34,""c"":5,""t"":""-""},{""mc"":1,""mr"":1,""r"":34,""c"":6,""t"":""койка-место""},{""mc"":1,""mr"":1,""r"":34,""c"":7,""t"":""9,0""},{""mc"":1,""mr"":1,""r"":34,""c"":8,""t"":""Россия""},{""mc"":1,""mr"":1,""r"":34,""c"":9,""t"":""-""}],[{""mc"":1,""mr"":1,""r"":35,""c"":0,""t"":""сын""},{""mc"":1,""mr"":1,""r"":35,""c"":1,""t"":""""},{""mc"":1,""mr"":1,""r"":35,""c"":2,""t"":""-""},{""mc"":1,""mr"":1,""r"":35,""c"":3,""t"":""-""},{""mc"":1,""mr"":1,""r"":35,""c"":4,""t"":""-""},{""mc"":1,""mr"":1,""r"":35,""c"":5,""t"":""-""},{""mc"":1,""mr"":1,""r"":35,""c"":6,""t"":""койка-место ""},{""mc"":1,""mr"":1,""r"":35,""c"":7,""t"":""9,0""},{""mc"":1,""mr"":1,""r"":35,""c"":8,""t"":""Россия""},{""mc"":1,""mr"":1,""r"":35,""c"":9,""t"":""-""}],[{""mc"":1,""mr"":1,""r"":36,""c"":0,""t"":""дочь""},{""mc"":1,""mr"":1,""r"":36,""c"":1,""t"":""""},{""mc"":1,""mr"":1,""r"":36,""c"":2,""t"":""-""},{""mc"":1,""mr"":1,""r"":36,""c"":3,""t"":""-""},{""mc"":1,""mr"":1,""r"":36,""c"":4,""t"":""-""},{""mc"":1,""mr"":1,""r"":36,""c"":5,""t"":""-""},{""mc"":1,""mr"":1,""r"":36,""c"":6,""t"":""койка-место ""},{""mc"":1,""mr"":1,""r"":36,""c"":7,""t"":""9,0""},{""mc"":1,""mr"":1,""r"":36,""c"":8,""t"":""Россия""},{""mc"":1,""mr"":1,""r"":36,""c"":9,""t"":""-""}],[{""mc"":1,""mr"":1,""r"":37,""c"":0,""t"":""дочь""},{""mc"":1,""mr"":1,""r"":37,""c"":1,""t"":""""},{""mc"":1,""mr"":1,""r"":37,""c"":2,""t"":""-""},{""mc"":1,""mr"":1,""r"":37,""c"":3,""t"":""-""},{""mc"":1,""mr"":1,""r"":37,""c"":4,""t"":""-""},{""mc"":1,""mr"":1,""r"":37,""c"":5,""t"":""-""},{""mc"":1,""mr"":1,""r"":37,""c"":6,""t"":""койка-место ""},{""mc"":1,""mr"":1,""r"":37,""c"":7,""t"":""9,0""},{""mc"":1,""mr"":1,""r"":37,""c"":8,""t"":""Россия""},{""mc"":1,""mr"":1,""r"":37,""c"":9,""t"":""-""}],[{""mc"":1,""mr"":1,""r"":38,""c"":0,""t"":""Андреев \\nРоман Николаевич""},{""mc"":1,""mr"":1,""r"":38,""c"":1,""t"":""Начальник отдела""},{""mc"":1,""mr"":1,""r"":38,""c"":2,""t"":""-""},{""mc"":1,""mr"":1,""r"":38,""c"":3,""t"":""-""},{""mc"":1,""mr"":1,""r"":38,""c"":4,""t"":""-""},{""mc"":1,""mr"":1,""r"":38,""c"":5,""t"":""моторная лодка Навигатор ПЛМ, Suzuki 15 л.с.""},{""mc"":1,""mr"":1,""r"":38,""c"":6,""t"":""квартира           (бессрочное пользование)""},{""mc"":1,""mr"":1,""r"":38,""c"":7,""t"":""38,3""},{""mc"":1,""mr"":1,""r"":38,""c"":8,""t"":""Россия""},{""mc"":1,""mr"":1,""r"":38,""c"":9,""t"":""808 596,37""}],[{""mc"":1,""mr"":2,""r"":39,""c"":0,""t"":""Давыдова \\nМария Михайловна                         (по 03.12.2013)""},{""mc"":1,""mr"":2,""r"":39,""c"":1,""t"":""Заместитель начальника отдела""},{""mc"":1,""mr"":1,""r"":39,""c"":2,""t"":""земельный участок - садовый""},{""mc"":1,""mr"":1,""r"":39,""c"":3,""t"":""407,0""},{""mc"":1,""mr"":1,""r"":39,""c"":4,""t"":""Россия""},{""mc"":1,""mr"":2,""r"":39,""c"":5,""t"":""-""},{""mc"":1,""mr"":2,""r"":39,""c"":6,""t"":""-""},{""mc"":1,""mr"":2,""r"":39,""c"":7,""t"":""-""},{""mc"":1,""mr"":2,""r"":39,""c"":8,""t"":""-""},{""mc"":1,""mr"":2,""r"":39,""c"":9,""t"":""731 894,32""}],[{""mc"":1,""mr"":2,""r"":40,""c"":0,""t"":""""},{""mc"":1,""mr"":2,""r"":40,""c"":1,""t"":""""},{""mc"":1,""mr"":1,""r"":40,""c"":2,""t"":""квартира ""},{""mc"":1,""mr"":1,""r"":40,""c"":3,""t"":""44,3""},{""mc"":1,""mr"":1,""r"":40,""c"":4,""t"":""Россия""},{""mc"":1,""mr"":2,""r"":40,""c"":5,""t"":""""},{""mc"":1,""mr"":2,""r"":40,""c"":6,""t"":""""},{""mc"":1,""mr"":2,""r"":40,""c"":7,""t"":""""},{""mc"":1,""mr"":2,""r"":40,""c"":8,""t"":""""},{""mc"":1,""mr"":2,""r"":40,""c"":9,""t"":""""}],[{""mc"":1,""mr"":2,""r"":41,""c"":0,""t"":""Перелыгин \\nВладимир Михайлович""},{""mc"":1,""mr"":2,""r"":41,""c"":1,""t"":""Заместитель начальника отдела""},{""mc"":1,""mr"":2,""r"":41,""c"":2,""t"":""-""},{""mc"":1,""mr"":2,""r"":41,""c"":3,""t"":""-""},{""mc"":1,""mr"":2,""r"":41,""c"":4,""t"":""-""},{""mc"":1,""mr"":1,""r"":41,""c"":5,""t"":""автомобиль легковой       Opel Zafira""},{""mc"":1,""mr"":2,""r"":41,""c"":6,""t"":""комната (аренда)""},{""mc"":1,""mr"":2,""r"":41,""c"":7,""t"":""18,0""},{""mc"":1,""mr"":2,""r"":41,""c"":8,""t"":""Россия""},{""mc"":1,""mr"":2,""r"":41,""c"":9,""t"":""584 628,49""}]]}"';
let jsonStr = tsvLine.split("\t")[1];
jsonStr = jsonStr.replace(/""/g, '"');
jsonStr = jsonStr.replace(/^"/, '');
jsonStr = jsonStr.replace(/"$/, '');
let context = {input_id: "1", input_json: jsonStr, declaration_json:"hkfhggkfjhgfk"};
let html  = handleBarsTemplate(context);
taskSource.innerHTML = html;

let button = document.createElement("button");
button.onclick = on_toloka_validate;
button.innerHTML = "<h1>Next Task</h1>";
let body = document. getElementsByTagName("body")[0];
body.appendChild(button);
